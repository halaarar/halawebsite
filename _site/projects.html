<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>projects â€“ Hala Arar | Data Science Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dd08061cb7210c315e315379d94beb87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-317498d59d53b9a9c610b2fc98ca7664.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Hala Arar | Data Science Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./projects.html" aria-current="page"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./education.qmd"> 
<span class="menu-text">Education</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./work_experience.qmd"> 
<span class="menu-text">Work Experience</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Aboutme.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/halaarar"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/hala-arar-9931a615b/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:halaosama92@yahoo.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="my-projects" class="level1">
<h1>My Projects</h1>
<p>Welcome to a summary of some of my most exciting projects! Each one represents a unique application of data science, machine learning, and analytics to solve real-world problems. Click on the links to explore the full project details and GitHub repositories.</p>
<section id="health-science-calculator" class="level2">
<h2 class="anchored" data-anchor-id="health-science-calculator">Health Science Calculator</h2>
<p>Health Science Calculator is a Python package designed to provide accurate and efficient health metric calculations. It supports Total Daily Energy Expenditure (TDEE), Basal Metabolic Rate (BMR), and Body Mass Index (BMI) computations, making it useful for health professionals, researchers, and fitness enthusiasts.</p>
<p>This project was developed as part of a collaborative effort using best practices in software engineering, automation, and version control to ensure code quality, maintainability, and scalability.</p>
<section id="project-goals-contributions" class="level3">
<h3 class="anchored" data-anchor-id="project-goals-contributions">Project Goals &amp; Contributions</h3>
<p>âœ” Developed a modular Python package for health-related calculations using object-oriented programming (OOP) principles. âœ” Implemented core functions to compute BMI, BMR, TDEE, and perform unit conversions to standardize health data. âœ” Integrated Pytest for automated testing, ensuring the accuracy of implemented functions and maintaining 100% test coverage. âœ” Leveraged GitHub Actions for CI/CD, automating testing, deployment, and ensuring seamless version control. âœ” Published the package to PyPI, making it accessible for installation and use via pip install healthsciencecalculator. âœ” Collaborated with a team, applying version control workflows (branching, merging, pull requests) to streamline development. âœ” Designed an API reference and technical documentation using Sphinx and Read the Docs, ensuring clarity for users.</p>
<p>Technical Implementation 1ï¸âƒ£ Core Functionality The package provides key health-related calculations:</p>
<p>ğŸ“Œ get_tdee() â€“ Calculates Total Daily Energy Expenditure (TDEE) based on BMR and activity level. ğŸ“Œ get_bmi() â€“ Computes Body Mass Index (BMI) and classifies users into categories (underweight, normal, overweight, obese). ğŸ“Œ get_bmr() â€“ Uses the Harris-Benedict equation to compute Basal Metabolic Rate (BMR) based on weight, height, age, and sex. ğŸ“Œ unit_convert() â€“ Converts between metric and imperial units for weight, height, temperature, and volume.</p>
<p>ğŸ’¡ Each function is rigorously tested and optimized to provide high-accuracy calculations.</p>
<p>2ï¸âƒ£ Continuous Integration &amp; Deployment (CI/CD) To ensure code stability and reliability, I implemented GitHub Actions for CI/CD, enabling:</p>
<p>âœ” Automated testing via Pytest after every code commit or pull request. âœ” Linting and style checks using Pylint to maintain code consistency. âœ” Test coverage reporting using pytest-cov and Codecov for tracking improvements. âœ” Automated package deployment to PyPI using GitHub Actions, ensuring seamless updates.</p>
<p>ğŸ”¹ CI/CD Workflow Overview:</p>
<p>Push or Pull Request: Triggers automated tests on GitHub Actions. Run Pytest: Tests all functions for expected outputs, error handling, and edge cases. Deploy to PyPI: If all tests pass, the package is automatically updated on PyPI. ğŸ’¡ Impact: CI/CD ensures code quality, early bug detection, and smooth integration into production.</p>
<p>3ï¸âƒ£ Automated Testing with Pytest Testing is crucial in health applications, so I implemented comprehensive unit tests using Pytest:</p>
<p>âœ” Validated all health metric calculations against known industry standards. âœ” Implemented edge-case handling (e.g., division by zero, incorrect input types). âœ” Ran parameterized tests to ensure correctness across various inputs. âœ” Tracked test coverage using pytest-cov, achieving 100% test coverage.</p>
<p>ğŸ’¡ Testing Commands:</p>
<p>bash Copy Edit # Run all tests pytest</p>
</section>
</section>
</section>
<section id="run-tests-with-coverage-report" class="level1">
<h1>Run tests with coverage report</h1>
<p>pytest â€“cov=healthsciencecalculator 4ï¸âƒ£ Collaboration &amp; Version Control Working on this project in a team required effective version control:</p>
<p>âœ” Used GitHub for repository management, implementing branching strategies and pull requests. âœ” Code reviews were conducted for all new features, ensuring high-quality contributions. âœ” Maintained a changelog to document package updates and feature improvements.</p>
<p>Installation &amp; Usage ğŸ“Œ Install the package via pip:</p>
<p>bash Copy Edit pip install healthsciencecalculator ğŸ“Œ Example Usage:</p>
<p>python Copy Edit from healthsciencecalculator import get_bmi, get_tdee</p>
</section>
<section id="calculate-bmi" class="level1">
<h1>Calculate BMI</h1>
<p>bmi_result = get_bmi(weight=70, height=1.75) print(fâ€BMI: {bmi_result.bmi:.2f}, Category: {bmi_result.category}â€œ)</p>
</section>
<section id="calculate-tdee" class="level1">
<h1>Calculate TDEE</h1>
<p>tdee = get_tdee(bmr=1500, activity_level=â€œmoderately activeâ€) print(fâ€TDEE: {tdee:.2f} kcal/dayâ€) Key Takeaways &amp; Impact ğŸš€ Developing a robust Python package strengthened my skills in: âœ” Software Development â€“ Object-oriented programming, modular design, API development. âœ” Machine Learning &amp; Analytics â€“ Data validation, unit conversions, structured data processing. âœ” Automation &amp; CI/CD â€“ GitHub Actions, Pytest, automated package deployment. âœ” Team Collaboration â€“ Git workflows, issue tracking, and effective code documentation. âœ” Technical Communication â€“ Writing clear documentation and API references for user accessibility.</p>
<p>This project enhanced my ability to develop scalable, well-tested software solutions, a skill directly applicable to data engineering, AI, and healthcare analytics roles.</p>
<section id="bank-marketing-predictions" class="level2">
<h2 class="anchored" data-anchor-id="bank-marketing-predictions">Bank Marketing predictions</h2>
<p>Overview The Bank Marketing Prediction Project applies machine learning techniques to enhance bank marketing strategies by predicting whether a customer will subscribe to a term deposit based on demographic and campaign-related data.</p>
<p>The goal was to develop a predictive model that helps banks optimize resource allocation, minimize marketing costs, and improve customer conversion rates. This project incorporated end-to-end data science workflows, data preprocessing, and model evaluation to identify the most effective approach for targeted marketing.</p>
<p>ğŸ’¡ Key Contributions &amp; Impact âœ” Developed predictive models to classify customer responses to bank marketing campaigns. âœ” Built a fully reproducible machine learning pipeline using Python and Jupyter Notebooks. âœ” Implemented Docker for containerized deployment, ensuring portability across environments. âœ” Used GitHub Actions for CI/CD, automating testing and workflow execution. âœ” Applied statistical analysis and feature engineering to optimize model performance. âœ” Conducted error analysis and class imbalance handling to enhance predictions. âœ” Created a structured reporting system, generating a detailed analysis of the modelsâ€™ effectiveness.</p>
<p>Project Objectives ğŸ”¹ Predict Customer Subscription Behavior: Determine whether a customer will subscribe to a term deposit based on demographic and campaign-related data. ğŸ”¹ Optimize Marketing Strategies: Identify patterns in customer responses to improve targeting and reduce costs. ğŸ”¹ Automate Data Processing &amp; Model Training: Develop a scalable pipeline using Click, Docker, and Makefiles. ğŸ”¹ Enhance Model Interpretability: Implement feature importance analysis to guide data-driven decision-making.</p>
<p>Technical Implementation 1ï¸âƒ£ Data Preprocessing &amp; Feature Engineering Processing raw customer data involved several key steps: âœ” Handled missing values and inconsistencies using pandas and NumPy. âœ” Applied feature scaling and normalization for numerical attributes. âœ” Used one-hot encoding to convert categorical variables into a machine-readable format. âœ” Class balancing techniques (oversampling, undersampling) to address the imbalance between subscribers and non-subscribers.</p>
<p>Example Code for Data Cleaning &amp; Feature Engineering:</p>
<p>python Copy Edit from sklearn.preprocessing import StandardScaler, OneHotEncoder import pandas as pd</p>
</section>
</section>
<section id="load-dataset" class="level1">
<h1>Load dataset</h1>
<p>df = pd.read_csv(â€œdata/bank-additional-full.csvâ€)</p>
</section>
<section id="feature-scaling" class="level1">
<h1>Feature scaling</h1>
<p>scaler = StandardScaler() df[[â€œageâ€, â€œcampaignâ€, â€œpreviousâ€]] = scaler.fit_transform(df[[â€œageâ€, â€œcampaignâ€, â€œpreviousâ€]])</p>
</section>
<section id="one-hot-encoding-categorical-features" class="level1">
<h1>One-hot encoding categorical features</h1>
<p>encoder = OneHotEncoder() encoded_features = encoder.fit_transform(df[[â€œjobâ€, â€œmaritalâ€, â€œeducationâ€]]).toarray() 2ï¸âƒ£ Machine Learning Models &amp; Performance Evaluation Implemented two machine learning models:</p>
<p>ğŸ“Œ Logistic Regression</p>
<p>Focused on interpretability and explainability. Prioritized minimizing false positives, achieving high precision (0.70). Used L1 regularization to prevent overfitting. ğŸ“Œ Decision Tree Classifier</p>
<p>More flexible in handling non-linear relationships. Achieved higher recall (0.23) but increased false positives. Required pruning and hyperparameter tuning for optimal performance. âœ” Performance Metrics Used:</p>
<p>Accuracy: Measures overall correctness. Precision: Reduces false positives (important for targeted marketing). Recall: Identifies more actual subscribers. F1 Score: Balances precision and recall. Model Performance Results:</p>
<p>Model Accuracy Precision Recall F1 Score Logistic Regression 88.5% 0.70 0.20 0.31 Decision Tree 89.7% 0.64 0.23 0.34 ğŸ’¡ Findings:</p>
<p>Logistic Regression was best for reducing false positives. Decision Tree performed better in identifying actual subscribers. Further model tuning needed to balance precision and recall. 3ï¸âƒ£ CI/CD &amp; Automation with Docker &amp; GitHub Actions To ensure reproducibility and scalability, I implemented CI/CD pipelines using Docker &amp; GitHub Actions.</p>
<p>âœ” Dockerized the project for easy deployment. âœ” Automated testing using Pytest to validate model outputs. âœ” GitHub Actions triggered CI/CD workflows, ensuring seamless execution.</p>
<p>Example of Dockerized Workflow:</p>
<p>yaml Copy Edit name: CI/CD Pipeline</p>
<p>on: push: branches: - main</p>
<p>jobs: build: runs-on: ubuntu-latest steps: - name: Checkout code uses: actions/checkout@v2 - name: Set up Python uses: actions/setup-python@v2 with: python-version: â€œ3.10â€ - name: Install dependencies run: pip install -r requirements.txt - name: Run tests run: pytest â€“cov=src ğŸš€ Impact: CI/CD automation reduced manual intervention, ensuring code integrity and rapid deployment.</p>
<p>4ï¸âƒ£ Running the Analysis ğŸ’¡ Option 1: Run Using Docker 1ï¸âƒ£ Install Docker. 2ï¸âƒ£ Clone the repository.</p>
<p>bash Copy Edit git clone https://github.com/mindy001/BankMarketingPreditions-.git cd BankMarketingPreditions- 3ï¸âƒ£ Start the container.</p>
<p>bash Copy Edit docker-compose up 4ï¸âƒ£ Access JupyterLab for interactive analysis.</p>
<p>ğŸ’¡ Option 2: Run Using Makefile 1ï¸âƒ£ Clone repository and activate environment.</p>
<p>bash Copy Edit git clone https://github.com/mindy001/BankMarketingPreditions-.git cd BankMarketingPreditions- conda env create -f env/environment.yml<br>
conda activate bankenv 2ï¸âƒ£ Generate analysis report.</p>
<p>bash Copy Edit make all 3ï¸âƒ£ Open the generated PDF report.</p>
<p>Key Takeaways &amp; Impact ğŸš€ Through this project, I gained experience in: âœ” Building scalable ML models â€“ Data preprocessing, feature engineering, model selection. âœ” Data Engineering &amp; Pipelines â€“ Automated workflows using Makefile and Docker. âœ” Machine Learning for Marketing â€“ Class imbalance handling, precision-recall tradeoffs. âœ” CI/CD &amp; Automation â€“ GitHub Actions for testing, deployment, and reproducibility. âœ” Version Control &amp; Collaboration â€“ GitHub repository management, pull requests, team contributions.</p>
<p>ğŸ”¹ Future Enhancements: âœ… Hyperparameter tuning using GridSearchCV for improved accuracy. âœ… Feature selection analysis to reduce redundant variables. âœ… Deploying an API to allow real-time model inference for banks.</p>
<p>Final Thoughts This project strengthened my ability to develop end-to-end machine learning solutions for real-world business challenges. By combining ML modeling, automation, and CI/CD, I created a fully scalable, deployable, and interpretable system.</p>
<p>ğŸ”— Check out the full report: Final Report ğŸ”— GitHub Repository: Bank Marketing Prediction</p>
<p>Would love to connect with others interested in marketing analytics, data-driven decision-making, and AI-powered business solutions! ğŸš€</p>
<section id="credit-card-default-prediction-project" class="level2">
<h2 class="anchored" data-anchor-id="credit-card-default-prediction-project">Credit Card Default Prediction Project</h2>
<p>links that takes you to the project section of this link that takes you to the github page</p>
<p>â€¢ Analyzed and preprocessed the Default of Credit Card Clients dataset to predict credit card payment defaults. â€¢ Implemented decision tree models and hyperparameter tuning to optimize model performance. â€¢ GitHub Repository: https://github.ubc.ca/mds-2024-25/DSCI_573_Lab4_hala_fazeeia/tree/main</p>
</section>
<section id="the-data-science-starter-kit---blog" class="level2">
<h2 class="anchored" data-anchor-id="the-data-science-starter-kit---blog">The Data Science Starter Kit - Blog</h2>
<p>Overview A beginner-friendly blog designed to help aspiring data scientists get started with fundamental concepts and practical tools.</p>
<p>What I Did: âœ” Authored blog posts covering topics such as Git &amp; version control, data visualization, and statistical analysis. âœ” Developed tutorials and code examples to guide beginners through key data science workflows. âœ” Created a promotional video to increase community engagement and drive traffic to the blog. âœ” Maintained a GitHub repository for code snippets, datasets, and Jupyter notebooks. âœ” Collaborated with peers to expand content and ensure clarity for diverse audiences.</p>
<p>Technologies &amp; Skills Used: ğŸ“Œ Python | R | Git &amp; Version Control | Data Visualization | Educational Content Creation | Technical Writing</p>
<p>Ongoing &amp; Future Projects NYPD Arrest Tracker App (Work in Progress) A dashboard designed for NYC government executives to track and analyze NYPD arrest metrics using real 2023 arrest data.</p>
<p>âœ” Developing interactive data visualizations (maps, bar charts, time-series charts) using Plotly and Seaborn. âœ” Designing a user-friendly dashboard with Dash for real-time data exploration. âœ” Implementing filtering options to dynamically analyze crime trends by borough, precinct, and crime type.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>